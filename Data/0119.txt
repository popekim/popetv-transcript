네, 안녕하세요. 피구왕 통키 포프입니다. 저번인가 만들었던 비디오 중에 뭐가 있었지? 그 코드 리뷰 시스템 얘기를 제가 했었잖아요. 생각보다 많은 분들이 되게 좋아하셨는데, 어쩌면 그거랑 조금 관련이 있는 얘기일 수도 있을 것 같아요. 

저를 시는 분은 아시겠지만, 지금 리드 디벨로퍼라는 타이틀을 달고 있어요. 그게 공식적으로 타이틀을 단 건 처음인데, 하는 일은 예전에 비해서 바뀐 것 같지는 않고요. 근데 제가 리드 타이틀을 달기 전에 사실 이 비디오를 올리려고 했는데, 다른 비디오에 약간씩 약간씩 이 아이디어가 들어간 상태에서 그냥 얘기를 안 하고 있다가, 그냥 오늘 목록을 보다 보니까 이게 있었어요. 리드 타이틀 달기 전과, 달고 난 후와의 생각이 바뀌지 않았어서, 한번 정리해서 올리는 건 나쁘지 않다고 생각을 해서 만드는 거예요.

흔히들 그런 얘기해요. "과연 리드의 자질이 뭐냐?" 물론 제가 말하는 여기서 리더는 보통 제가 주로 일하는 분야의 리더를 얘기하겠죠. 프로그래밍 분야의 리더, 게임 프로그래밍이라던가 일반 프로그래밍이라던가, 기술자의 리더, 이런 얘기인데요. 여러 가지 다양한 말이 있는데, 저는 모르겠어요. 백그라운드 자체가 로우레벨 프로그래밍이고, 성능을 좀 신경 써야 되는 분야에서 와서 그런지, 저는 굉장히 비인간적이긴 한데, 팀원들을 그냥 CPU 코어의 개념으로 보게 되더라고요. 그러니까 어떤 개념이냐면, 예를 들어서 제가 저를 포함해서 팀원이 8명이 있어요. 그러면 저는 이 팀 자체를 코어가 여덟 개 달린 CPU로 보겠다는 거예요. 

멀티스레딩 프로그래밍 해보신 분들은 알겠지만 싱글스레드, 그러니까 만약에 코어가 1 GHz짜리 코어가 8개가 달려있으면 그게 8 GHz잖아요. 그러면 그걸 멀티스레드로 돌리는 거와, 아니면 싱글 코어에 8 GHz를 돌리는 거하고 차이를 보면, 싱글스레드로 돌리는 게 성능이 더 높아요. 아무래도 멀티코어로 하다 보면, 잡 분배부터 시작해서 서로 일이 겹치지 않게 하는 거, 서로 일을 덮어쓰지 않게 하는 거, 그리고 최종의 일을 합칠 때 기다리는 것까지 해서 그만큼 오버헤드가 있거든요. 저는 팀도 그렇다고 생각을 해요.

그렇기 때문에 제가 이상적으로 생각하는 팀과, 그리고 이상적으로 생각하는 리드의 포지션은 뭐냐면, 리더라는 건 결국은 잡큐라고 봐요. 잡큐를 아시는 분도 있겠지만, 한마디로 일이 이만큼 왔을 때 그 일을 누구에게 어떻게 분배를 하고, 분배를 했을 때 저를 뺀 모든 7 코어가 쉬지 않고 계속 돌 수 있는 거, 한마디로 다운타임이 없는 거죠. 그래서 그게 저는 굉장히 중요한 리더의 자질이라고 생각을 하거든요. 그리고 최종적으로 일이 마무리 됐을 때 그걸 뭉쳐서 하나의 결과를 보여줄 수 있는 거, 그것도 역시 잡큐가 보통 하는 일이죠. 싱크라든가 조인이라든가요. 저는 그거라고 봐요. 

물론 그렇게 하기 위해서는 당연히 어떤 일이 중요한지도 먼저 우선순위도 정해야 되고, 어떻게 어떤 걸 합쳐야 되는지도 생각을 해야 되고, 이를 어떻게 배분해야지 생각을 해야 되겠죠. 저는 옵티마이제이션이나 멀티스레딩 이쪽에서 생각을 하면 굉장히 단순한 개념이라고 생각을 했거든요? 

근데 결국에는 리드의 포지션이라는 게 그거거든요. 물론 제가 엄청나게 뛰어날 수는 있어요. 코어 하나가 엄청나게 뛰어날 수 있지만, 제가 코어 하나를 돌리는 것보다 여덟 개를 어떻게 효율적으로 쓰는 거에 따라 결과가 빠르고 좋게 나오는 거기 때문에, 그거를 최대화시킬 수 있는 관리자 역할이죠. 근데 뭐라 그럴까, 상당히 많은 리드들이 그거를 생각을 못하는 것 같아요. 결국에 제가 잡큐라면, 저는 남한테 일을 계속 서비스하는 그런 서비스 업종이거든요. 근데 그거를 생각을 못하고, 자기가 서비스 업종이 아니고, 딴 사람이 내 일을 편하게 만들어야 된다고 생각하는 리드들이 상당히 많았어요.

그 대표적인 예를 들기 전에, 제가 아까 코드리뷰 시스템하고 관련이 있다고 얘기를 든 게 뭐냐면, 제가 기존에 있던 프리커밋 코드리뷰 시스템을 별로 안 좋아했던 이유가, 그 어떤 사람의 집중력을 뺏어온다였잖아요. 결국 이 얘기가 뭐냐면, 예를 들어서 코어#2, 그러니까 저희 두 번째 멤버가 열심히 일을 하고 있어요. 그러다가 걔가 코드리뷰가 필요해요. 그러면 저를 잡아야겠죠. 그럼 저도 아니면 다른 애들을 잡던가 해서요. 그럼 그 코어도 일하고 있었는데, 둘이 자꾸 커뮤니케이션하는 순간 이미 하고 있던 일은 멈춰져요. 그러면 코어에서 Idle이 생기고, Idle 코어가 생기면서, 둘에서 뭐가 필요한지 싱크 하는 동안 그 싱크 포인트가 거기서 있으니까, 한쪽에 한쪽을 기다리던가 양쪽 다 기다리던가 하는 문제가 생기죠. 그리고 다시 리뷰를 볼 동안, 리뷰를 보는 동안은 두 명이 하나의 일을 하는 거잖아요. 그럼 50% 캐퍼시티로 둘 다 약간씩 일을 하다가, 다시 다 끝나고 체크인하고 다시 본래대로 돌아가는 거죠. 한마디로 CPU 그래프를 그리면, 각 코어의 두 개가 이렇게 올라가서 일을 하다가, 중간에 멈칫하고 기다리다가, 하나 또 기다려서 멈칫해서 싱크를 한 다음에, 다시 조금 50% 정도 올라갔다가 쭉 일을 하다가, 다시 체크인해서 다시 올라가는 거예요.

그 중간중간 시간의 낭비라는 게, 저는 굉장히 심하다고 생각을 하거든요. 그리고 멀티스레딩 하시는 분도 알겠지만, 제가 이 일을 하다가 다른 일로 잡을 교체할 때가 있잖아요. 그러니까 콘텍스트 스위치요. 그 콘텍스트 스위치 때마다 오는 오버헤드가 뭔지는 아실 거예요. OS나 마이크로커널이라든지 이런 구조에 따라 다르긴 한데요. 기본적으로 제가 콘텍스트를 바꾸면 일반적으로 메모리 주소도 그 제 스레드의 메모리 주소로 바꾸고, 원래 메모리에 있던 내용까지도 바뀌고, 가끔 메모리가 충분하지 않으면 하드 디스크 드라이브에 스와핑을 해야 될 때도 있죠(페이징). 그러면 거기에선 오버헤드가 또 엄청나거든요. 그래서 멀티스레딩해서 콘텍스트 스위치를 덜하면 덜할수록 성능은 좋아지는 게 사실이에요. 제가 말한 게 그거죠. 코어에서 딴 사람이 리뷰를 볼 때는, 콘텍스트 스위치가 일어나서 그만큼 더 효율성이 떨어진다. 그래서 그게 전에 말했던 코드리뷰 시스템하고 말했던 거고요. 

좀 전에 하려고 했던 얘기는, 그 리드들이 자기가 서비스직이라는 걸 생각을 못한다는 거예요. 그걸 어떤 상황까지 보냐면은, 이건 진짜 말도 안 되는 것 같아요. 진짜 큰 회사였거든요. 저희 팀 QA 인원이 500명이 넘었던 걸로 기억을 하고, 게임도 전 세계에서 가장 큰 게임 중에 하나였고요. 근데 이 회사의 버그 트래킹이 장난이 아니었어요. 회사에서 개발자가 몇백 명이 넘어가는 상황이면, 버그 트래킹은 이제 DevTrack이라는 걸 썼어요. Pro인지, Free 버전이었는지 모르겠어요. 어쨌든 사서 쓰는 걸 건데, 원칙상은 DevTrack이 저한테 버그를 줄 때마다 이메일이 날아오게 돼 있어요. 그런데 그러려면은 SMTP 이메일 서버를 뒤에 꼽아야죠. 근데 이 회사는 존재한 지도 20년 정도 지난 회사인데, 버그가 생겨도 이메일이 안 오는 거예요. 그래서 제가 처음에 QA 매니저라던가, 저희 팀 매니저, 프로그래밍 전체 매니저한테 "이메일을 연결을 하자, 이게 말이 안 되지 않냐."라고 얘기했어요.

개발자가 예를 들어서 버그의 심각성을 Severity라고 하는데, 굉장히 심각하면 크리티컬 버그까지 알려주거든요. 그래서 저희는 A(되게 심각하여 반드시 고쳐야 되는 버그), B(그래도 좀 중요한 버그), C(굳이 안 고치고 게임 출시해도 되는 버그) 이런 식으로 레벨이 있어요. 예를 들어서 제가 버그가 아무것도 없어요, 그러다 버그 하나가 와서 C버그를 고치고 있어요. 근데 시간이 좀 오래 걸려요. 어쨌든 저는 계속 버그를 고치고 있잖아요? 근데 그 순간 누군가 저에게 크래시 수준의 A버그를 보냈다고 생각을 해봐요. 그러면 일의 중요도가 A버그가 되게 중요한 거기 때문에, C버그 고치는 것을 멈추고, A버그로 가서 먼저 고쳐야 되거든요. 근데 이메일 notification이 날아오지 않으면 방법이 없어요. 유일하게 확인할 수 있는 방법이, DevTrack 프로그램 들어가서 다시 Refresh를 눌러야만 하는 거예요. 

어떤 사람 같은 경우는, 딴 데 도와주느라 프로젝트를 여러 개를 같이 참가하는 개발자도 있거든요? 그러면 DevTrack에서 새 프로젝트를 하고 있다 그러면, 다른 새 프로젝트를 볼 때마다 프로젝트를 바꾸고 Refresh를 반복해야 해요. 그래서 오늘 당장 고쳐져야 하는 버그가 하루 이틀 느려지는 경우도 있고, 그것 때문에 QA도 테스트를 못하는 경우가 있어요. 정말 중요한 버그가 들어오면 예를 들어서, 프로젝트 매니저라던가 이런 사람들이 와서 얘기를 해준다고는 하는데, 하지만 그 사람들도 언제나 그 F5를 누르고 있는 게 아니거든요.

그래서 제가 진짜 이 많은 얘기를 했는데, 반응들이 진짜 웃겼어요. 첫째, 그 회사에 12년인가 있던 프로그래머가 "DevTrack 그거 우리 회사에서 만든 프로그램 아니야? 그런 기능 없을걸?" 이 얘기를 하는 거예요. 그래서 어이가 없어갖고, 'DevTrack이 얼마나 유명한 버그 트래킹 시스템이고, 그리고 그거를 왜 없다고 생각을 하지?' 이미 있는데 옵션만 들어가서 이메일 노티피케이션 세팅이 있거든요. 그래서 그거 어이없었고요. 저희 팀 프로그래밍 매니저 (별로 생각 없는 애였다고 생각을 하는데)에 가서 얘기하니까 "이메일 노티피케이션이 왜 중요하냐? F5 만 누르면 되지" 이랬어요, 

QA 매니저는 해준다 해 놓고 안 해주고요. IT 매니저도 한다 해 놓고 "이메일 서버 세팅이 어려서, 어렵긴 어려워" 이러는 거예요! SMTP 그냥 포트만 적어주고 Sendmail만 연결하면 끝인데 말이죠. 앞서 말한 반응이 있었는데요. 다들 어차피 그냥 일 안 하고 뭉개기 좋아하는 애들이 오래 남아서 올라간 애들이라고 보지만요, 리더한테는 굉장히 실망했던 게 그거예요. "그게 왜 중요하냐, F5를 누르면 되지, 그거는 리더의 일이고, 너는 프로그램에 앉자는 리드니까. 그럼 너 F5 평생 누르고 있어. 괜찮은데." 중요한 거는 자기가 F5을 눌렀고 찾아서 애들한테 미리 말하면 좋죠, 근데 자기는 안 해요. 각자 그렇게 하라는 거예요. 왜? 저도 몰라요. 그러면 제가 아까 말했듯이, 일하다가 계속 그러면 '한 시간마다 F5를 눌러야 되는 건가? 그러면 그때마다 콘텍스트 스위치잖아.' 어떻게 보면은 잠시 멈추고 확인하고, 잠시 멈추고 확인하고, 왜 팀원들의 능력을 떨어뜨리는 일을 하려는 지도 모르겠고요.

그리고 아까 말했듯이 애들의 우선순위라던가 이런 걸 정해줘야 될 위치는 리더예요. 그런데 도와줄 수 있는 시스템이 있음에도 불구하고, 리더가 귀찮아서인지, 아니면 새로 들어온 애가 '이런 시스템이 있는데 왜 안 하니?'라고 말하면 지가 무능해 보이는 걸 싫어하는 건지, 그런 거를 거부한다는 거 자체가 저는 이해가 안 됐어요. '진짜 이상한 팀이구나' 하고 회사를 빨리 나왔어요. 

그리고 말이 좀 더 깊어질 것 같긴 한데, 아까 말했듯이 우선순위라던가 일의 중요성 이런 거를 잘 알기 위해서는 리더의 테크니컬 스킬도 꽤 중요해요. 특히 프로그래밍 쪽에서는 더더 욱요. 그래서 저는 주니어 실력을 가진 사람이 단순히 개인 사람 관리를 잘한다고 리더에 올라갈 수 있다는 건 말도 안 된다고 보고요. 저는 지금에서도 그런 애가 어떻게 정치를 잘해서 올라가 있는 걸 하나 보긴 보는데, 어차피 올해 안 가 잘릴 거라고 생각은 하니까 상관은 안 해요.

그래서 리더는 제가 볼 땐 그래요. 그런 얘기 있잖아요. "정말 뛰어난 프로그래머를 관리자로 올리지 마라" 인정해요. 아마 예전에도 얘기한 것 같은데, 프로그래머가 커리어 패스에서 리더하고 시니어는 확실히 구분돼야 돼요. 그래서 어느 정도 기술 실력이 오른 다음에는, 얘네가 리더로 가든 시니어로 가든 어느 쪽으로 갈 수 있어야 되는데, 리더라면 관리자, 시니어라면 순수 개발자로요. 어느 분야로 가든 간에 얘네들 봉급은 거의 비슷해야 된다고 봐요. 예를 들어서 제가 인터미디어 있다가 리더로 갔다, 그리고 다른 내가 인터미디어 있다가 시니어로 갔다, 그러면 저는 이 시니어와 리더의 봉급 차이는 거의 없어야 된다고 생각을 해요. 인터미디어까지는 최소 기본 스킬을 먹어줬고, 그리고 리더는 말 그대로 대인관리, 관리 능력, 조직 능력 이런 거에서 인정받아 거기서 돈을 받기 시작하는 거고요. 개발자는 이거는 없어도 순수한 기술력이 뛰어나기 때문에, 돈을 받으면서 계속 자기만의 길을 가야 된다고 생각하거든요. 리드로 갔다가 얘네들이 매니저직으로 빠질 수도 있고, 시니어 같은 애들은 테크니컬 디렉터라던가 좀 더 기술적으로 양갈래로 빠지는, 그런 거에 중요하다고 생각을 해요.

EA 캐나다에서는 그 구분을 잘했어요. EA 스포츠는 거기서 인터미디어 이상부터 둘로 나뉠 수가 있어요. 보면서 그건 잘했다고 생각했고요. 그래서 제가 인터미디어 이상에는 갈린다고 했잖아요? 그래서 제가 생각하는 프로그램의 비전도 그거예요. 최소한 인터미디어 정도의 프로그래밍 실력이 없는 사람이 저는 팀 리드가 돼서도 안 된다고 생각을 하고요. 그 위로 올라가서도 안 된다고 생각을 해요. 특히 기술 쪽에서 그거는 거의 불가능한 얘기예요. 왜냐하면 말 그대로 아까 일의 중요성을 모르고, 뭐가 우선적으로 해야 되는지도 몰라요. 판단이 안 돼요. 그리고 판단이 안 되고 관리가 안 되는데 그러므로 여덟 명 코어를 돌릴 수 있다는 건 말이 안 되는 거예요. 리더는 굉장히 중요한 직업이에요. 그런데도 불구하고 자기의 효율성을 떨어뜨리는 거죠. 나는 원래 100%, 200% 낼 수 있는 코어인데, 오버클락까지 되는 코어인데, 내가 200% 오버클락 해봐야 여덟 명이 80% 돌리는 걸 이길 수가 없거든요. 여덟 명이 80%씩 하면 640% 이잖아요? 저는 200% 해봤자 200%에요. 저쪽에 3배가 더 효율이 나는 거예요. 그래서 그러면 결과적으로 내 효율성을 좀 줄이더라도, 왜냐면 자기가 일을 전체를 볼 수 있는 눈이 있으니까, 그 코어를 돌려주는 게 저는 리더의 일이라고 생각을 해요.

그래서 어찌 보면은 관리자가 중요한 일이고, 모든 중요한 일이 결정하는 위치지만, 또 다른 입장에서는 팀원들이 정말 이런 전체적인 그림을 좀 덜 보더라도 일할 수 있게, 그리고 말 그대로 Job을 딱 던져주면은 언제든 잡이 있게 뭔가 할 수 있는 거죠. 그렇게 부려먹겠다는 얘기는 아니고요. 그냥 언제나 할 수 있는 일이 있고, 팀원이 언제 앉아가지고 할 일이 없다고 노는 일이 없게, 그리고 다들 커뮤니케이션 잘 되고 싱크 잘 되게 하는 것도 중요한 거고요. 그래서 저는 그게 리더의 자질이라고 생각을 해요. 굉장히 많은 얘기를 했네요. 대충 알아서 정리하세요. 포프였습니다.