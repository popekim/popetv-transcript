왠지 요즘은 제가 프로그래밍 쪽에 관한 얘기를 별로 안 한 것 같아서, 제가 너무 헛소리만 하고 개소리만 하고 이랬구나 생각이 들어서, 뭔가 좀 도움이 되는 얘기를 할게요. 오늘은 이제 머지 소프트웨어에 대해서 얘기를 할 건데, 그전에 참 제 학교 자랑을 먼저 해야 될 것 같아요. 역시 딴 데로 빠지는 거죠. 제가 지금 다니는 온라인 학교지만 학교 랭킹은 높아요. 조지아테크가 참 좋은 학교라고 생각을 하게 된 최근 계기가, 공짜 티셔츠를 보내줬다는 거예요. 온라인 학생이고 다른 나라에 있는데, 그 학교는 미국에 있고 저는 캐나다에 있으니까, 그 학교에 온 걸 축하한다고 알아서 티셔츠 사이즈를 물어봐서 티셔츠를 보내주더라고요.

그랬고, 제가 공짜 티셔츠를 되게 좋아하는 걸 누구나 알잖아요? 저는 회사든 학교든 공짜 티셔츠를 주면 굉장히 좋은 곳이라고 생각을 하거든요. 그래서 참 싸게 저의 환심을 산 학교가 됐어요. 결국은 진짜 광고인데요. 이게 Online Master of Science in Computer Science (OMSCS)라는 거예요. 그래서 조지아테크가 그렇게 하고 있고요. 음, 근데 웃긴 건 아직도 제가 스튜던트 아이디카드를 못 받았거든요. 그래서 스튜던트 아이디카드는 안 주나 보다, 티셔츠만 주나보다 생각을 하는데, 티셔츠만 줘도 저는 불만이 없기 때문이에요. 뭐 이거 공짜로 받았고, MSDN 서브스크립션 프리미엄 공짜로 받았어요. 그래서 근데 저는 이미 MVP로 얼티메이트를 받고 있기 때문에 별 의미가 없고요. 저는 지금 MS 구독한 제품이 3개예요. 그 MVP로 받는 거 하나, 회사에서 주는 거 프리미엄 거 하나 하고, 지금 학교에서 주는 거 프리미엄 하나예요. 어이가 없게 지금 막 윈도우스 키가 한 300개가 될 거 같은데, 이제는 왜 이러지? 모르겠고 어쨌든 그렇고요.

이제 본론으로 돌아가죠. 머지 소프트웨어. 프로그래머가 이제 뭐 소규모 팀에서 일하다 보면은 별로 그런 일이 없는데, 프로그래머 수가 많아지게 되면은 이제 뭐 서로 컨플릭트 되는 체인지도 들어올 때가 많고요. 어떤 경우에도 이제 뭐 브랜치를 나누기 시작하면, 이 브랜치가 한참 가다가 나중에 겹칠 때 컨플릭트 되는 경우가 많잖아요. 또 머지할 일이 있고 이러면서 머지 소프트웨어가 굉장히 중요하더라고요. 그리고 뭐 요즘 뭐 Git이나 Mercurial 쪽으로 가시는 분들이 계시다면, 저는 거의 Mercurial로 완벽히 돌아섰거든요. 그쪽으로 가시는 분들이 있다면 아무래도 머지가 거의 매일매일 하게 되는 일인 거 같아요. 왜냐면 로컬로 만들었고 막 체크인하다가 합칠 때부터 머지를 다 해야 되기 때문이죠. 그래서 머지 프로그램을 보통 사람들이 어떤 걸 많이 쓰냐, 이런 생각하면은 생각보다 별로 좋은 걸 쓰시는 분들이 없는 거 같아요. 그래서 제가 여태까지 봤던, 그니까 저는 뭐 여태까지 굉장히 좋은 프로그램을 써왔지만, 저희 게임 쪽 북미 게임 쪽 외에는 이 프로그램도 쓰는 거 같지가 않고요.

대부분은 뭐 보통 Mercurial이나 Git 쓰시는 분들은 거기 딸려 나오는 그런 거 있잖아요? 비주얼 머지 프로그램 해갖고 뭐 KDiff3라던가 뭐 이상한 것들요. 아니면은 돈 좀 내고 쓰신다는 분들이 Beyond Compare 쓰시는 분들도 봤고요. Beyond Compare 4 이게 이제 한 40, 50불 하는 거 같아요. 제일 많이 쓰는 게 요거 두 개 쓰시는 분들 많이 봤어요. 아니면 무슨 오픈소스를 쓰신다거나요. 근데 제가 최근에 Beyond Compare를 회사에서 줘서 써본 바로는 정말 개판이었어요. 제가 한 5~8년 전쯤인가에 Beyond Compare를 쓰다가 던져버리고 "아 이건 진짜 개판이다" 그래서 저희 회사에서도 다 그 개판인 걸 인정을 하고 새로운 프로그램을 사 갖고 쓰기 시작하면서부터 제가 다니는 회사는 언제나 다 그 새 프로그램 썼거든요. 이 프로그램 이름은 Araxis Merge Pro예요.

일단 Beyond Compare의 문제부터 말씀드리면, 이거는 되게 웃긴 게 일단 컴페어 자체를 되게 못해요. 예를 들어서 이제 코드가 있고 코드가 있어요, 옛날 코드, 현재 코드. 근데 옛날 코드에서 예를 들어서 코드가 이렇게 한 블록 있잖아요, 무슨 뭐 게터 세터 이런 거 있잖아요, C#에서 뭐 프로퍼티 하는 거. 그 프로퍼티에 만약에 다른 프로퍼티를 뭐 좀 추가했다 그러면은 어쩔 때는 얘가 새로 추가한 거만 보지 못하고 이 전부 다 틀렸다고 생각해서, 틀린 거를 실제는 이 블록에 이 블록 하나 추가한 건데 그거를 판단을 못하고 전부 다 바뀐 거라서 처음부터 끝까지 거의 빨간색으로 처리해 줄 때가 있거든요. 그러면 뭐 머지 프로그램은 왜 있는 건가 생각이 들더라고요. 손으로 일일이 머지하는 얘긴데요.

단점은 뭐냐면, merge 프로그램, diff 프로그램의 해야 되는 일은 틀려진 거를 확실하게 보여줘서 저희가 몇 개만 딱 보고 몇 개만 고치고 넘어갈 수 있게 해 주는 게 굉장히 중요한 거거든요. 근데 일단 Beyond Compare는 그거 자체가 잘 안 돼요. 설사 그게 잘 되더라도 가끔은 같은 라인의 컨플릭트가 가면은 뭐 두 개를 코드를 박아서 이제 논리적으로 합쳐야 되잖아요. 근데 그게 머지 프로그램에서 합친 다음에 세이브를 하면 좋은데, Beyond Compare는 각 라인별로 카피는 가능할지언정 직접 타이핑을 칠 수는 없거든요. 그래서 진짜 뭐 몇 개 문장, 한 문장이 몇 개 바뀐 거 합칠 때는 새로 머지 한 번 한 다음에 또 밖으로 따로 불러와서 또 세이브해갖고 뭐 이런 이상한 짓을 해야 돼서 굉장히 불편하고요. 그리고 만약에 얘가 실제로 머지가, 그니까 diff를 잘못 보여줄 때 이거를 어떻게 제가 바꿔줄 방법이 없어요. 그냥 보고 나서 '아 이게 얘가 잘못했구나' 생각하고 이만한 빨간 블록을 제가 알아서 이렇게 봐가면서 해야 되는 게 귀찮고 하는 그런 단점이 있죠.

이거는 50불이라고 했잖아요. 제가 말한 프로그램은 이 문제들을 솔직히 다 고치긴 고쳐요. Araxis Merge라는 프로그램은 Araxis Merge Standard 말고 Araxis Merge Professional 프로그램은 250불이에요. 꽤 비싸죠, 25만 원 한국 돈으로 그 정도 되는 건데, 그러면 자기 컴퓨터에 두 대까지 깔 수 있다고 알고 있어요. 만약에 그렇게 돈을 낼 수 없는 사람이다 그러면, 차라리 Perforce에서 나오는 P4 Merge를 쓰시라고 제가 권해드리고 싶어요. P4 Merge는 Perforce는 제가 볼 때는 세상에서 가장 뛰어난 중앙관리 시스템 소스 컨트롤 시스템인데, 문제는 공짜가 아니죠. 20불까지는 공짜지만 뭐 그 이상은 공짜가 아니고요. 하지만 거기에서 딸려 나오는 P4 Merge란 그 diff 프로그램은 공짜예요. 그래서 Perforce를 안 쓰시더라도 그거만 선택 설치하셔 가지고 실제 등록해서 쓸 수가 있어요. 어떤 뭐 소스 컨트롤에도 디프 프로그램 따로 등록할 수 있는 옵션이 있거든요.

일단 P4 Merge의 장점은 그 디프가 굉장히 잘 돼요. Araxis Merge와 비교했을 때의 단점은 직접 타이핑해서 고칠 순 없어요. 그리고 얘네가 이걸 잘못 보여줬을 때 이게 잘못된 거다라고 내가 수정할 방법도 없고요. 그래서 그거는 여전히 단점이지만, 최소한 자체 디프 프로그램이 굉장히 잘 돼 있고, 그리고 뭐 이미지 디프 이런 것도 돼요. 단점은 폴더 디프가 안 된다는 것뿐이죠. 

그럼 P4 Merge는 그 정도로 얘기를 하고, 그다음은 Araxis Merge죠. Araxis Merge가 제가 왜 뛰어나다고 하냐면, 250불이지만 정말 뛰어난 기능을 갖추고, 제가 이 머지 프로그램을 쓰면서 다른 머지 프로그램을 아예 생각을 하질 않아요. 그리고 최근에 Beyond Compare로 돌아가서 다시 옛날 그대로 개판인 꼴을 보고 "아 이래서 우리가 떠났구나" 다시 한번 확인하게 됐거든요. Araxis Merge의 장점은 뭐 일단 디프 잘 되는 건 장점이에요. 그리고 만약에 얘가 diff를 설마 잘못했다 해도 이걸 고칠 방법이 있어요. 여기서 뭐라 그러더라, synchronization link라고 했던 것 같아요.

그 디프 화면이 왼쪽과 오른쪽 있잖아요? 그러면 보통 왼쪽 오른쪽이 다르다고 보여주잖아요. 근데 이게 만약에 잘못됐을 때 한 줄 바꿨는데 빨간 블록이 전부라고 보였을 때, 그때 해줄 수 있는 게 중간에 라인을 선을 그려줄 수가 있어요. 그니까 왼쪽에 요 라인이 실제 저 밑으로 갔다, 이런 식으로 해서, 그게 synchronization link라고 하는 거거든요. 그래서 그거를 요 줄이 사실은 저 밑에 저 줄과 같다 연결해 주면, 지가 다시 "어 이건 같은 거니까 이건 같다고 보고 다른 걸 다르게 딱 판단을 해서" 이게 다른 거라고 보여줄 수가 있어요. 한마디로 제가 선으로 직접 수정을 해 줄 수가 있는 거죠. 이게 여기랑 같은 거다 이러고요. 이것의 장점은 이렇게 하고 나면은 정말 바뀐 몇 개만 딱 보여주거든요. 그럼 정말 디프하기 편해지고, 머지하기도 편해져요.

하지만 그래도 아까 말한 그 문제점이 있죠. 실제 만약에 머지를 하는데 3-way 머지인데, 예를 들어서 예전에 서버에 있던 오리지널 카피가 있고, 다른 사람이 바꾼 게 있고, 이건 내가 바꾼 건데, 양쪽에 서로 똑같은 걸 바꾼 거예요. 그러면 머지를 하는데, Araxis Merge는 그 자체로 텍스트 에디터이기도 해요. 그래서 실제 중앙에 제가 세이브하는 그 최종 세이브하는 도큐먼트죠? 제가 실제 갖고 있는 도큐먼트고, 왼쪽이 서로 공통되는 parent고, 오른쪽이 다른 사람이 바꾼 거요. 그럼 가운데로 이렇게 머지를 하는 건데, 머지에다가 양쪽에 컨플릭이 있으면 제가 직접 가서 타이핑을 치면 돼요. 얘는 A + B라고 했는데, 여기서 A + C * B 했으면 가서 "어 그래요 A + B * C가 맞으니까 고치자" 곱하고 세이브하면 끝이에요. 그래서 다른 프로그램 열고 닫을 필요도 없고, 직접 손수 머지 가능하고, 그게 굉장히 좋아요. 뭐 인터페이스 좋은 것도 할 것 같고, 프로그램도 굉장히 가볍고요.

그리고 또 하나의 장점은 3-way 머지가 장점인 것 같아요. 여태까지 3-way 머지들은 되게 단점이 뭐였냐면 창이 4개를 주거든요. 예를 들어서 parent 있고, left가 이제 보통, parent 이제 공통되는 거, 왼쪽이 다른 사람이 고친 거, 오른쪽이 내가 고친 거, 그리고 밑은 네가 고친 것 해서 총 뷰가 4개가 되는 거죠. 그래서 밑에 보면은 왼쪽 걸 가져온다, 오른쪽 걸 가져온다, 뭐 parent 걸 가져온다, 이렇게 하는데 솔직히 굉장히 인튜이티브 하지 못한 방법인 것 같아요. 3-way 머지라고 하면서 창을 4개 주는 건요.

그에 비해 Araxis Merge는 딱 창을 3개만 줘요. 가운데가 내가 여태까지 고쳐 놓은 거, 하지만 지금도 고칠 수 있는 거, 오른쪽이 다른 사람이 고친 거, 왼쪽이 parent에요. 그래서 가운데로 머지해서 끝낼 수가 있기 때문에, 오히려 제가 볼 때는 훨씬 더 인튜이티브 하고, 그러니까 직관적이고, 훨씬 더 사용하기가 좋더라고요. 그래서 Araxis Merge를 쓰라고 권해드리고 싶고, 되게 비싸요. 비싼데 장점이 있어요. 일단 뭐 30일 트라이얼을 할 수 있기 때문에 트라이얼을 해보시고, 트라이얼을 하고 맘에 드시면은 뭐 정품 정가 내고 사는 법이 있고요. 자기 돈으로 내면은 자기 컴퓨터 두 대가 들어간다고 설치 가능하다고 들었어요.

그 외에도 두 가지 길이 있어요. 학생이면 70% 할인이 돼요, 최대 70% 거든요. 그래서 만약에 학생이시라면은 어디에 이메일 보내갖고 신분증 보내면은 70% 할인에 살 수가 있어요. 그러면 얼마요, 30% 한 7만 원 8만 원? 싸진 않네요. 그것도 있고, 두 번째는 만약에 오픈소스 하시는 분들이면은 자기가 오픈소스 하는 그걸 내가 오픈소스에 컨트리뷰션 하고 있다는 증거를 걔네한테 보여주면은 공짜로 라이선스를 줘요. 그래서 그것도 나쁘지 않은 것 같아요. 그래서 만약에 뭐 GitHub에서 해갖고 오픈소스 열심히 컨트리뷰션 하시는 분들, 그런 분들 계시면은 가서 이제 "자기 이런 데 컨트리뷰션 하고 있고" 보여주면은 거기서 "아 그래 이 정도면은 충분히 하고 있으니까 주겠다"라고 하더라고요.

그래서 저는 아시는 분이 오픈소스 컨트리뷰션 하시는 분이 있는데, 그분한테 부탁을 해서 하나 받았어요. 제가 컨트리뷰션은 거의 한 게 없기 때문에 그분한테 "필요 없으면 줘달라"라고 했어요. 그래서 "어 나 필요 없는데?" 그분 이름으로 제가 신청해 갖고 그분이, 키 받은 것을 제가 받아왔어요. 그러면 안 되나, 상관없겠죠? 그분이 받아와서 저 준 거니까, 그분이 속인 것도 아니니까요. 어차피 개인 제품은 하나 밖에 안 주거든요. 그래서 그분은 설사 이걸 쓰고 싶으시더라도 못 쓰시겠죠. 그러면 나중에 그분이 필요하시다고 그러면 제가 그동안 오픈소스 컨트리뷰션을 열나게 해서 드리는 수밖에 없을 것 같네요. 그게 맞는 것 같고요.

그래서 오늘은 프로그래머, 사실은 제가 요즘 뭐라 그럴까 프로그래머 효율에 대한 생각을 되게 많이 했거든요. 제가 야근 많이 하면서 회사 꼴을 보면서 "아 저 야근을 안 할 수 있는 방법이 있는데, 정말 내 생각에는 요거 요거만 고쳐도 애들 효율이 20%가 올라갈 것 같은데" 그러면 야근이 20%가 덜하게 되는 얘기잖아요. 그래서 그 생각을 하다 보면서 그중에 일부러 나왔던 게 이 머지 프로그램이었어요. 굉장히 머지를 할 때마다 굉장히 주먹구구식으로 머지를 해서, 뭐 Visual Studio에 딸려 나오는 TFS 머지도 굉장히 개판이고요. 그래서 그런 생각도 나온 거였고요. 

사실은 뭐 회사에서 제가 권유하고 하자고 얘기했던 건데, 뭐 회사에서 뭐 이것까지부터 정치질하는 애들이 있어갖고, 앞으로 제가 생각해서 뭔가 프로그램의 생산성을 높일 수 있는 게 보이면 굳이 회사에 권유하지 말고 그냥 비디오로 말할까 생각 중이었어요. 사실은 그거 보고 하시고 싶으신 분들 하라고, 귀찮게 뭐 그런 거 정치질하는지 이해가 안 돼서요. 어쨌든 뭐 그러면 머지 프로그램 얘기는 그 정도면 됐고요.

제가 Araxis Merge는 6, 7년 정도 써 온 것 같네요. 제가 살면서 소프트웨어를 쓰면서 이렇게 오래 쓰고 있는 프로그램도 없어요. 쓸 때마다 "아 정말 이 프로그램을 잘 만들었구나" 생각이 드는 프로그램도 별로 없거든요? 그리고 Araxis Merge는 폴더 비교도 되고, 뭐 이미지 비교도 돼요. 뭐 그거는 뭐 프로그램한테 굉장히 작은 일이고, 사실은 디프 확실히 내고 머지 확실해지는 게 중요하죠. 그래서 한번 안 써보신 분도 있으면 써보시라고 권해드리고, 회사에서 사달라 그랬을 때 사주면 좋고, 안 사주면 뭐 어쩔 수 없는 거고, 그렇다고 뭐 하는 거죠. 저야 뭐 제 카피 있으니까 상관 안 하고요. 그 정도면 된 거 같고요. 포프였습니다.